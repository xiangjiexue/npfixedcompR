<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The npfixedcompR object — npfixedcompRobject • npfixedcompR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="The npfixedcompR object — npfixedcompRobject" />
<meta property="og:description" content="This documentation gives a detailed description of the npfixedcompR object. This implementation uses
the R6 object." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">npfixedcompR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.0008</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>The npfixedcompR object</h1>
    
    <div class="hidden name"><code>npfixedcompRobject.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This documentation gives a detailed description of the npfixedcompR object. This implementation uses
the R6 object.</p>
    </div>



    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The structure of the object currently has three layers: The foundation layer is the
npfixedcompR class, which has components common to all the specific classes; The second
layer is the distributional layer, which has components common to all the classes with
the same distribution (the npnorm class); The third layer is the specific layer
(the npnormll class), which contains components specific to this particular loss. Since
the nptll and the npnormcll class only has one loss implemented, they are implemented in
the second layer.</p>
<p>For the following, if a component is listed as public, then it can be accessed as needed.
If a component is listed as private, then it can not be accessed. There might be functions
listed as public can be used to modified the private values.</p>
<p>The component in the npfixedcompR class are as follows.</p><ul>
<li><p><code>mu0fixed</code> (public) : The vector of the locations of fixed support points.
This can be set by <code>initialize</code> or <code>modified</code> implemented in the last year.</p></li>
<li><p><code>pi0fixed</code> (public) : The vector of the weights of fixed support points.
This can be set by <code>initialize</code> or <code>modified</code> implemented in the last year.</p></li>
<li><p><code>data</code> (public) : The observations. The observations can only be set by
<code><a href='makeobject.html'>makeobject</a></code> via <code>initialzed</code>. Once the object is defined, the observations
can not be modified.</p></li>
<li><p><code>len</code> (public) : The length of the observations. This is different to the effective
sample size when dealing with the binned version.</p></li>
<li><p><code>result</code> (public) : The estimated mixing distribution. This is used to store the result
computed by <code>computemixdist</code> or <code>estpi0</code>.</p></li>
<li><p><code>methodflag</code> (public) : This function is used to print or set the algorithm used for
finding the new support points. The default argument is <code>NULL</code>, which prints the private
component <code>mflag</code> implemented in the final layer. Other inputs can be <code>d0</code>, <code>d1</code>
and <code>d2</code>, which change the algorithm used. The algorithm used should depend on the final layer
(hence <code>mflag</code> is implemented in the final layer).</p></li>
<li><p><code>checklossfunction</code> (public) : The function used for Armijo rule; see Wang (2007).</p></li>
<li><p><code>collapsemix</code> (public) : The function used for collapsing mixing distributions; see <code><a href='https://rdrr.io/pkg/nspmix/man/cnm.html'>cnm</a></code>.</p></li>
<li><p><code>compareattr</code> (public) : The function used for comparing the attributes <code>mu0</code> and <code>pi0</code> for performence
purposes. If the geometry of <code>mu0</code> and <code>pi0</code> is close to the stored ones, there is no need to recompute
the information related to this pair.</p></li>
<li><p><code>solvegradientmultiple</code> (public) : The function used for computing the new support points.
This is function calls for <code>solvegradientmultipled0</code>, <code>solvegradientmultipled1</code> and
<code>solvegradientmultipled2</code> according to the private component <code>mflag</code>. The detailed descriptions
of the algorithms used can be found in Appendix B of the thesis. The break points of the smaller intervals
are computed through <code>printgridpoints</code> implemented in the distributional layer.</p></li>
<li><p><code>computemixdist</code> (public) : The function used for computing the mixing distribution given
<code>mu0fixed</code> and <code>pi0fixd</code>. The result is stored in <code>result</code> component.</p></li>
<li><p><code>estpi0d</code> (public) : The function used for computing the derivative when estimate the null proportion.
This default implementation can be used in the Newton-Raphson method. This is overwritten by the
espti0d in the last layer, which can be used in the Halley method.</p></li>
<li><p><code>solvegradientmultipled0</code> (private), <code>solvegradientmultipled1</code> (private) and
<code>solvegradientmultipled2</code> (private) : The functions for computing the new support points. The underlying
computing functions <code>solvegradientsingled1</code> and <code>solvegradientsingled2</code> are vectorised
implementations while <code>solvegradientsingled0</code> uses the <code><a href='https://rdrr.io/r/stats/optimize.html'>optimize</a></code>.</p></li>
<li><p><code>solveestpi0</code> (private) : The function for computing the null proportion. The algofithm used depends
on <code>estpi0d</code>. This is essentially the root-finding algorithm and the formulation can be found in
Appendix B of the thesis.</p></li>
<li><p><code>gridpoints</code> (private) : The break points for the smaller interval when computing the new support
points. This is initialised by <code>printgridpoints</code> in the distributional layer.</p></li>
</ul>

<p>The components in the distributional layer are as follows.</p><ul>
<li><p><code>setgridpoints</code> (public) : The function used to initialise <code>gridpoints</code>. The range of the
support can be found in Chapter 3 of the thesis.</p></li>
<li><p><code>initpoints</code> (public) : The function for generating the starting mixing distribution, if not
specified in <code>computemixdist</code>; see <code>link[nspmix]{npnorm}</code> for example.</p></li>
</ul>

<p>The componets in the final layer are as follows.</p><ul>
<li><p><code>beta</code> (public) : The structural parameter. The structural parameter is always considered as fixed
and can be changed using <code>initisalize</code> and <code>modified</code>.</p></li>
<li><p><code>type</code> (public) : The flag for component distributions.</p></li>
<li><p><code>initialize</code> (public) : The function for initialising the object for computing. It sets the data,
the length, fixed support points, structural parameter and any precomputed values.</p></li>
<li><p><code>modified</code> (public) : The function for modifying the object for further computing. It sets the
fixed support points, the structural parameter and any precomputed values related to the change of
the fixed support points.</p></li>
<li><p><code>lossfunction</code> (public) : THe function for computing the loss function given a mixing distribution.</p></li>
<li><p><code>setflexden</code> (public) : This function is used to set the precomputed values for performance
purposes.</p></li>
<li><p><code>gradientfunction</code> (public) : This function computes the gradient for the implemented families.
The output is a list of length 3: The gradient <code>d0</code>, the first derivative with respect to the location
parameter <code>d1</code> and the second derivateive with respect to the location parameter <code>d2</code>.</p></li>
<li><p><code>computeweights</code> (public) : This function computes the new weights given fixed support points,
which is needed in <code>computemixdist</code> in the first layer.</p></li>
<li><p><code>estpi0dS</code> (public) : Generating precomputed values for estimating the null proportion. This is
primarily for performance purposes.</p></li>
<li><p><code>estpi0d</code> (public) : This function overwrites the function of the same name in the first layer
for a faster computation of the null proportions.</p></li>
<li><p><code>estpi0</code> (public) : This function computes the null proportions depending on the given loss/distance.</p></li>
<li><p><code>precompute</code> (private), <code>flexden</code> (private), <code>S1</code> (private) : The object for storing the
precomputed values for performance purposes.</p></li>
</ul>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Wang, Yong. "On Fast Computation of the Non-Parametric Maximum Likelihood Estimate of a Mixing Distribution." Journal of the Royal Statistical Society. Series B (Statistical Methodology) 69, no. 2 (2007): 185-98. <a href='http://www.jstor.org/stable/4623262'>http://www.jstor.org/stable/4623262</a>.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Xiangjie Xue.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


